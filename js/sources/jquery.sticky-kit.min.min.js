(function(){var a,b;a=this.jQuery||window.jQuery;b=a(window);a.fn.stick_in_parent=function(j){var m,k,g,f,i,e,r,o,c,l;null==j&&(j={});r=j.sticky_class;k=j.inner_scrolling;e=j.recalc_every;i=j.parent;f=j.offset_top;g=j.spacer;m=j.bottoming;null==f&&(f=0);null==i&&(i=void 0);null==k&&(k=!0);null==r&&(r="is_stuck");null==m&&(m=!0);o=function(R,O,J,h,G,C,H,y){var v,s,L,K,P,N,I,p,n,M,Q;if(!R.data("sticky_kit")){R.data("sticky_kit",!0);N=R.parent();null!=i&&(N=N.closest(i));if(!N.length){throw"failed to find stick parent"}v=L=!1;(M=null!=g?g&&R.closest(g):a("<div />"))&&M.css("position",R.css("position"));I=function(){var t,q,d;if(!y&&(t=parseInt(N.css("border-top-width"),10),q=parseInt(N.css("padding-top"),10),O=parseInt(N.css("padding-bottom"),10),J=N.offset().top+t+q,h=N.height(),L&&(v=L=!1,null==g&&(R.insertAfter(M),M.detach()),R.css({position:"",top:"",width:"",bottom:""}).removeClass(r),d=!0),G=R.offset().top-parseInt(R.css("margin-top"),10)-f,C=R.outerHeight(!0),H=R.css("float"),M&&M.css({width:R.outerWidth(!0),height:C,display:R.css("display"),"vertical-align":R.css("vertical-align"),"float":H}),d)){return Q()}};I();if(C!==h){return K=void 0,P=f,n=e,Q=function(){var d,t,q,u;if(!y&&(null!=n&&(--n,0>=n&&(n=e,I())),q=b.scrollTop(),null!=K&&(t=q-K),K=q,L?(m&&(u=q+C+P>h+J,v&&!u&&(v=!1,R.css({position:"fixed",bottom:"",top:P}).trigger("sticky_kit:unbottom"))),q<G&&(L=!1,P=f,null==g&&("left"!==H&&"right"!==H||R.insertAfter(M),M.detach()),d={position:"",width:"",top:""},R.css(d).removeClass(r).trigger("sticky_kit:unstick")),k&&(d=b.height(),C+f>d&&!v&&(P-=t,P=Math.max(d-C,P),P=Math.min(f,P),L&&R.css({top:P+"px"})))):q>G&&(L=!0,d={position:"fixed",top:P},d.width="border-box"===R.css("box-sizing")?R.outerWidth()+"px":R.width()+"px",R.css(d).addClass(r),null==g&&(R.after(M),"left"!==H&&"right"!==H||M.append(R)),R.trigger("sticky_kit:stick")),L&&m&&(null==u&&(u=q+C+P>h+J),!v&&u))){return v=!0,"static"===N.css("position")&&N.css({position:"relative"}),R.css({position:"absolute",bottom:O,top:"auto"}).trigger("sticky_kit:bottom")}},p=function(){I();return Q()},s=function(){y=!0;b.off("touchmove",Q);b.off("scroll",Q);b.off("resize",p);a(document.body).off("sticky_kit:recalc",p);R.off("sticky_kit:detach",s);R.removeData("sticky_kit");R.css({position:"",bottom:"",top:"",width:""});N.position("position","");if(L){return null==g&&("left"!==H&&"right"!==H||R.insertAfter(M),M.remove()),R.removeClass(r)}},b.on("touchmove",Q),b.on("scroll",Q),b.on("resize",p),a(document.body).on("sticky_kit:recalc",p),R.on("sticky_kit:detach",s),setTimeout(Q,0)}}};c=0;for(l=this.length;c<l;c++){j=this[c],o(a(j))}return this}}).call(this);